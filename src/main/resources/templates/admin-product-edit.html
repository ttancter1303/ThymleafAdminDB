<div th:fragment="AdminProductEdit">
    <form th:action="@{'/admin/product-update/' + ${product.id}}" method="post" enctype="multipart/form-data" id="frmSave">
        <h4>Edit Product</h4>

        <div class="alert alert-warning" id="message">

        </div>
        <script>
            $(function () {
                $("#message").hide();

                $("#btnSave").click(function () {
                    let productName = $("#productName").val();
                    let price = $("#price").val();
                    let content = "";
                    if (productName === "") {
                        content = "Product Name must be not blank!";
                    }
                    if (price === "") {
                        content = "</br>Price must be not blank!";
                    }
                    if(content != ""){
                        $("#message").html(content);
                        $("#message").show();
                    }else {
                        $("#frmSave").submit();
                    }
                });
            });
        </script>

        <div class="mt-3 mb-3">
            <label for="">Product Name</label>
            <input type="text" name="name" id="productName" th:value="${product_name}" class="form-control form-control-sm">
        </div>

        <div class="mt-3 mb-3">
            <label for="">Price</label>
            <input type="text" name="price" id="price" th:value="${product.price}" class="form-control form-control-sm">
        </div>

<!--        <div class="mt-3 mb-3">-->
<!--            <label for="">Image</label>-->
<!--            <input type="file" name="image" id="image" th:value="${product.image}" class="form-control form-control-sm">-->
<!--        </div>-->
        <div class="mt-3 mb-3">
            <label for="">Category</label>
            <select name="categoryId" class="form-select form-select-sm">
                <option th:value="${product.id}" th:each="category : ${categories}" th:selected="${product.category != null && product.category.id == category.id}">
                    <span th:text="${category.name}"></span>
                </option>
            </select>
        </div>

        <div class="mt-3 mb-3">
            <button type="button" id="btnSave" class="btn btn-primary btn-sm">Save</button>
        </div>

    </form>
</div>